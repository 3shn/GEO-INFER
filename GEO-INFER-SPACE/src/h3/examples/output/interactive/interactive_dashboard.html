
    <!DOCTYPE html>
    <html>
    <head>
        <title>H3 Interactive Dashboard</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 0;
                padding: 20px;
                background-color: #f5f5f5;
            }
            .container {
                max-width: 1200px;
                margin: 0 auto;
                background-color: white;
                padding: 20px;
                border-radius: 10px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }
            .header {
                text-align: center;
                margin-bottom: 30px;
                color: #333;
            }
            .stats-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin-bottom: 30px;
            }
            .stat-card {
                background-color: #f8f9fa;
                padding: 20px;
                border-radius: 8px;
                text-align: center;
                border-left: 4px solid #007bff;
            }
            .stat-value {
                font-size: 2em;
                font-weight: bold;
                color: #007bff;
            }
            .stat-label {
                color: #666;
                margin-top: 5px;
            }
            .chart-container {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin-bottom: 30px;
            }
            .chart {
                background-color: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            }
            .map-container {
                height: 500px;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            }
            #map {
                height: 100%;
                width: 100%;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <h1>H3 Interactive Dashboard</h1>
                <p>Interactive H3 Geospatial Analysis Dashboard</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">19</div>
                    <div class="stat-label">Total Cells</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">2.08</div>
                    <div class="stat-label">Total Area (km²)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">1</div>
                    <div class="stat-label">Resolutions</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Pentagons</div>
                </div>
            </div>
            
            <div class="chart-container">
                <div class="chart">
                    <h3>Resolution Distribution</h3>
                    <div id="resolutionChart"></div>
                </div>
                <div class="chart">
                    <h3>Area Distribution</h3>
                    <div id="areaChart"></div>
                </div>
            </div>
            
            <div class="map-container">
                <div id="map"></div>
            </div>
        </div>
        
        <script>
            // Map setup
            var map = L.map('map').setView([37.7749, -122.4194], 10);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetmap contributors'
            }).addTo(map);
            
            var geojsonData = {"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.772010477332394, -122.41701147197294], [37.77369317299805, -122.41594013984891], [37.775197782893386, -122.41719971841658], [37.775019673792606, -122.41953062807342], [37.7733369780061, -122.42060189084884], [37.771832391440924, -122.41934231331867]]]}, "properties": {"h3_index": "89283082803ffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.77068382315852, -122.41342106131174], [37.77236651869776, -122.41234965984782], [37.77387120528312, -122.41360919962808], [37.77369317299805, -122.41594013984891], [37.772010477332394, -122.41701147197294], [37.7705058140779, -122.41575193321864]]]}, "properties": {"h3_index": "8928308281bffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.77387120528312, -122.41360919962808], [37.775553870666116, -122.41253776965968], [37.77705850389022, -122.41379734925398], [37.77688044840227, -122.41612835779266], [37.775197782893386, -122.41719971841658], [37.77369317299805, -122.41594013984891]]]}, "properties": {"h3_index": "8928308280bffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.775197782893386, -122.41719971841658], [37.77688044840227, -122.41612835779266], [37.778385004930925, -122.41738797617619], [37.77820687262237, -122.41971895414808], [37.776524206993216, -122.42079024541879], [37.775019673792606, -122.41953062807342]]]}, "properties": {"h3_index": "8928308280fffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.7733369780061, -122.42060189084884], [37.775019673792606, -122.41953062807342], [37.776524206993216, -122.42079024541879], [37.776346021077586, -122.42312112449314], [37.774663325175815, -122.42419231791125], [37.77315881530464, -122.42293270161493]]]}, "properties": {"h3_index": "89283082807ffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.770149665506075, -122.42041354760029], [37.771832391440924, -122.41934231331867], [37.7733369780061, -122.42060189084884], [37.77315881530464, -122.42293270161493], [37.771476089253994, -122.42400386654383], [37.769971526020306, -122.42274429006204]]]}, "properties": {"h3_index": "89283082817ffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.76882308826447, -122.41682323684428], [37.7705058140779, -122.41575193321864], [37.772010477332394, -122.41701147197294], [37.771832391440924, -122.41934231331867], [37.770149665506075, -122.42041354760029], [37.768645025583815, -122.41915400988286]]]}, "properties": {"h3_index": "89283082813ffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.76749635753299, -122.41323293430392], [37.769179083219434, -122.41216156134303], [37.77068382315852, -122.41342106131174], [37.7705058140779, -122.41575193321864], [37.76882308826447, -122.41682323684428], [37.76731837165834, -122.41556373790088]]]}, "properties": {"h3_index": "892830828c7ffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.76935701548832, -122.40983065889338], [37.77103971089556, -122.4087591880983], [37.77254447416621, -122.41001868908145], [37.77236651869776, -122.41234965984782], [37.77068382315852, -122.41342106131174], [37.769179083219434, -122.41216156134303]]]}, "properties": {"h3_index": "892830828cfffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.77254447416621, -122.41001868908145], [37.77422713941776, -122.4089471897773], [37.77573184933261, -122.41020673057267], [37.775553870666116, -122.41253776965968], [37.77387120528312, -122.41360919962808], [37.77236651869776, -122.41234965984782]]]}, "properties": {"h3_index": "89283082857ffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.77573184933261, -122.41020673057267], [37.777414484419424, -122.40913520275792], [37.77891914097095, -122.41039478336799], [37.778741139107936, -122.41272589077961], [37.77705850389022, -122.41379734925398], [37.775553870666116, -122.41253776965968]]]}, "properties": {"h3_index": "89283082847ffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.77705850389022, -122.41379734925398], [37.778741139107936, -122.41272589077961], [37.78024571896331, -122.41398551019046], [37.780067640273955, -122.41631658705096], [37.778385004930925, -122.41738797617619], [37.77688044840227, -122.41612835779266]]]}, "properties": {"h3_index": "89283082873ffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.778385004930925, -122.41738797617619], [37.780067640273955, -122.41631658705096], [37.78157214342845, -122.41757624525285], [37.78139398791365, -122.41990729154375], [37.77971135245088, -122.42097861131116], [37.77820687262237, -122.41971895414808]]]}, "properties": {"h3_index": "89283082877ffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.776524206993216, -122.42079024541879], [37.77820687262237, -122.41971895414808], [37.77971135245088, -122.42097861131116], [37.779533143322624, -122.42330955869778], [37.777850477578774, -122.4243807806065], [37.776346021077586, -122.42312112449314]]]}, "properties": {"h3_index": "8928308283bffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.774663325175815, -122.42419231791125], [37.776346021077586, -122.42312112449314], [37.777850477578774, -122.4243807806065], [37.77767221484918, -122.42671162907996], [37.77598951883774, -122.42778275313199], [37.774485085665255, -122.42652309807923]]]}, "properties": {"h3_index": "89283082833ffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.771476089253994, -122.42400386654383], [37.77315881530464, -122.42293270161493], [37.774663325175815, -122.42419231791125], [37.774485085665255, -122.42652309807923], [37.77280235950438, -122.4275941936467], [37.771297872963984, -122.42633457841025]]]}, "properties": {"h3_index": "892830828abffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.768288769829816, -122.42381542650327], [37.769971526020306, -122.42274429006204], [37.771476089253994, -122.42400386654383], [37.771297872963984, -122.42633457841025], [37.76961511666273, -122.42740564549466], [37.76811057676191, -122.42614607007206]]]}, "properties": {"h3_index": "892830828bbffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.7669622695097, -122.42022521567219], [37.768645025583815, -122.41915400988286], [37.770149665506075, -122.42041354760029], [37.769971526020306, -122.42274429006204], [37.768288769829816, -122.42381542650327], [37.76678415324116, -122.4225558898335]]]}, "properties": {"h3_index": "8928308288fffff", "resolution": 9}}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[37.76563561570616, -122.41663501302958], [37.76731837165834, -122.41556373790088], [37.76882308826447, -122.41682323684428], [37.768645025583815, -122.41915400988286], [37.7669622695097, -122.42022521567219], [37.76545757623789, -122.41896571776493]]]}, "properties": {"h3_index": "8928308288bffff", "resolution": 9}}]};
            
            L.geoJSON(geojsonData, {
                style: function(feature) {
                    var resolution = feature.properties.resolution;
                    var colors = ['#ff0000', '#0000ff', '#00ff00', '#ff00ff', '#ffff00', '#00ffff'];
                    return {
                        fillColor: colors[resolution % colors.length],
                        weight: 2,
                        opacity: 1,
                        color: 'black',
                        fillOpacity: 0.3
                    };
                },
                onEachFeature: function(feature, layer) {
                    var popupContent = '<div style="width: 200px;">' +
                        '<h4>H3 Cell</h4>' +
                        '<p><strong>Index:</strong> ' + feature.properties.h3_index + '</p>' +
                        '<p><strong>Resolution:</strong> ' + feature.properties.resolution + '</p>' +
                        '<p><strong>Area:</strong> ' + feature.properties.area_km2.toFixed(6) + ' km²</p>' +
                        '</div>';
                    layer.bindPopup(popupContent);
                    layer.bindTooltip('R' + feature.properties.resolution + ': ' + feature.properties.area_km2.toFixed(4) + ' km²');
                }
            }).addTo(map);
            
            // Resolution distribution chart
            var resolutionData = {"9": 19};
            var resolutionCounts = {};
            resolutionData.forEach(function(res) {
                resolutionCounts[res] = (resolutionCounts[res] || 0) + 1;
            });
            
            var resolutionChart = {
                x: Object.keys(resolutionCounts),
                y: Object.values(resolutionCounts),
                type: 'bar',
                marker: {
                    color: 'rgb(55, 83, 109)'
                }
            };
            
            var resolutionLayout = {
                title: 'Cells by Resolution',
                xaxis: { title: 'Resolution' },
                yaxis: { title: 'Number of Cells' }
            };
            
            Plotly.newPlot('resolutionChart', [resolutionChart], resolutionLayout);
            
            // Area distribution chart
            var areas = [0.10940247351409498, 0.10940798664680453, 0.10940370195547992, 0.10939818864716178, 0.10939695977138443, 0.10940124402266332, 0.10940675758840357, 0.10941227054293187, 0.10941349916801339, 0.10940921465442188, 0.10940492934576758, 0.10939941647107786, 0.10939390298483981, 0.10939267472664128, 0.10939144541872368, 0.10939572984575846, 0.1094000134796318, 0.10940552747924426, 0.10941104086816435];
            
            var areaChart = {
                x: areas,
                type: 'histogram',
                marker: {
                    color: 'rgb(158, 202, 225)',
                    line: {
                        color: 'rgb(8, 48, 107)',
                        width: 1.5
                    }
                }
            };
            
            var areaLayout = {
                title: 'Area Distribution',
                xaxis: { title: 'Area (km²)' },
                yaxis: { title: 'Frequency' }
            };
            
            Plotly.newPlot('areaChart', [areaChart], areaLayout);
        </script>
    </body>
    </html>
    